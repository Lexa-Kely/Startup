document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".header");e.addEventListener("mousemove",(t=>{const n=50*(t.clientX/window.innerWidth+.5),o=50*(t.clientY/window.innerHeight+.5);e.style.backgroundPosition=`calc(50% + ${n}px) calc(50% + ${o}px)`}));const t=document.getElementById("burger"),n=document.querySelector(".menu");t.addEventListener("click",(()=>{n.classList.toggle("active"),t.classList.toggle("active")}));const o=e.offsetTop;window.addEventListener("scroll",(()=>{window.scrollY>o?e.classList.add("fixed"):e.classList.remove("fixed")}));document.querySelectorAll(".menu a").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const n=e.getAttribute("href").replace("#",""),o=document.getElementById(n);if(o){const e=-60,t=o.getBoundingClientRect().top+e;window.scrollTo({top:t,behavior:"smooth"})}}))}));const l=document.querySelector(".center button"),r=document.getElementById("popupAuth"),c=document.querySelectorAll(".block"),d=document.getElementById("checkSequence");let s=null;l.addEventListener("click",(()=>{r.style.display="flex"})),c.forEach((e=>{e.setAttribute("draggable",!0),e.addEventListener("dragstart",(()=>{s=e,e.classList.add("dragging")})),e.addEventListener("dragend",(()=>{s=null,e.classList.remove("dragging")})),e.addEventListener("dragover",(e=>e.preventDefault())),e.addEventListener("drop",(t=>{if(t.preventDefault(),s&&s!==e){e.parentNode.insertBefore(s,e)}}))})),d.addEventListener("click",(()=>{"123"===Array.from(c).map((e=>e.getAttribute("data-order"))).join("")?(alert("Login successful!"),r.style.display="none",document.querySelector(".logo h1").textContent="Welcome, Alex!"):alert("Wrong sequence, try again.")}));const a=document.querySelectorAll(".cards .cardTop");if(a.length<3)return;const i=a[1];let u=0,m=null;i.addEventListener("click",(()=>{u++,1===u&&(m=setTimeout((()=>{u=0}),600)),3===u&&(clearTimeout(m),u=0,a.forEach((e=>{const t=e.querySelector("span");t.textContent="Im A GHOUL",t.style.color="red",t.style.fontWeight="bold"})))}));const y=document.querySelector(".slider-track"),p=document.querySelectorAll(".slider-track .cardHuman"),h=document.querySelector(".slider .prev"),g=document.querySelector(".slider .next");if(!y||0===p.length)return;let f=0;const v=p[0].offsetWidth+20,E=p.length;function L(){y.style.transform=`translateX(-${f*v}px)`,y.style.transition="transform 0.5s ease"}p.forEach((e=>y.appendChild(e.cloneNode(!0)))),h.addEventListener("click",(()=>{f--,f<0&&(f=E-1),L()})),g.addEventListener("click",(()=>{f++,f>=E&&(f=0),L()}));let S=0,x=!1;y.addEventListener("touchstart",(e=>{S=e.touches[0].clientX,x=!0})),y.addEventListener("touchmove",(e=>{if(!x)return;const t=e.touches[0].clientX,n=S-t;n>30&&(g.click(),x=!1),n<-30&&(h.click(),x=!1)})),y.addEventListener("touchend",(()=>{x=!1}));const q=[];document.querySelectorAll(".shop .cardMain").forEach((e=>{e.querySelector("button").addEventListener("click",(()=>{const t=e.querySelector("h3").textContent,n=e.querySelector("span").textContent;q.push({name:t,category:n}),alert(`${t} додано до кошика!`)}))}));const b=document.createElement("button");b.textContent="Переглянути кошик",document.querySelector(".shop").appendChild(b);const k=document.createElement("div");k.style.position="fixed",k.style.top="50%",k.style.left="50%",k.style.transform="translate(-50%, -50%)",k.style.backgroundColor="white",k.style.padding="20px",k.style.border="2px solid black",k.style.display="none",k.style.zIndex=1e3,document.body.appendChild(k);const C=document.createElement("button");C.textContent="Закрити",k.appendChild(C),C.addEventListener("click",(()=>{k.style.display="none"})),b.addEventListener("click",(()=>{k.innerHTML="<h3>Ваш кошик:</h3>",0===q.length?k.innerHTML+="<p>Кошик порожній.</p>":q.forEach(((e,t)=>{k.innerHTML+=`<p>${t+1}. ${e.name} (${e.category})</p>`})),k.appendChild(C),k.style.display="block"}));const A=document.querySelector(".talking button"),w=document.querySelector(".form");A&&w&&A.addEventListener("click",(()=>{w.scrollIntoView({behavior:"smooth"})}));document.querySelectorAll(".form, .qwe").forEach((e=>{e.addEventListener("mousemove",(t=>{const n=e.getBoundingClientRect(),o=20*((t.clientX-n.left)/n.width-.5),l=20*((t.clientY-n.top)/n.height-.5);e.style.transform=`translate(${o}px, ${l}px)`})),e.addEventListener("mouseleave",(()=>{e.style.transform="translate(0px, 0px)"}))}));document.querySelectorAll(".blockPost").forEach((e=>{const t=e.querySelector(".read"),n=e.querySelector("p");t.addEventListener("click",(o=>{o.preventDefault(),e.classList.contains("expanded")?(n.style.maxHeight="80px",e.classList.remove("expanded"),t.textContent="Read more"):(n.style.maxHeight="none",e.classList.add("expanded"),t.textContent="Сховати")}))}));const I=document.querySelector(".companys"),H=I.innerHTML;I.innerHTML+=H;let T=0;setInterval((function(){T+=1,T>=I.scrollWidth/2&&(T=0),I.style.transform=`translateX(-${T}px)`}),20);const $=document.querySelector(".form form"),M=$.querySelectorAll("input, textarea");M.forEach((e=>{const t=localStorage.getItem(e.name);t&&(e.value=t)})),$.addEventListener("submit",(e=>{e.preventDefault();const t=document.createElement("div");t.style.position="fixed",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.background="white",t.style.padding="30px",t.style.boxShadow="0 0 10px rgba(0,0,0,0.5)",t.style.zIndex="9999",t.innerHTML='\n        <p>Підтвердити дані?</p>\n        <button id="accept">Прийняти</button>\n        <button id="decline">Відхилити</button>\n      ',document.body.appendChild(t);const n=()=>document.body.removeChild(t);t.querySelector("#accept").addEventListener("click",(()=>{M.forEach((e=>localStorage.setItem(e.name,e.value))),n(),alert("Дані збережено!"),$.reset()})),t.querySelector("#decline").addEventListener("click",(()=>{n()}))}));const B=document.querySelectorAll('.latwork input[type="radio"]'),D=document.querySelectorAll(".shop .cardMain"),W=localStorage.getItem("lastFilter");if(W){const e=document.getElementById(W);e&&(e.checked=!0),X(W)}function X(e){D.forEach((t=>{const n=t.querySelector("span").textContent;"All"===e||n.includes(e)?t.style.display="block":t.style.display="none"}))}B.forEach((e=>{e.addEventListener("change",(()=>{X(e.value),localStorage.setItem("lastFilter",e.value)}))})),D.forEach((e=>{e.querySelector("button").addEventListener("click",(()=>{let t=JSON.parse(localStorage.getItem("cart"))||[];const n=e.querySelector("h3").textContent;t.includes(n)||t.push(n),localStorage.setItem("cart",JSON.stringify(t)),alert(`${n} додано до кошика!`)}))}))}));
"use strict";